<body>

<nav class="navbar navbar-default navbar-inverse  navbar-fixed-top">
    <div class="container-fluid navbar-color">
        <!-- Brand and toggle get grouped for better mobile display -->
        <div class="navbar-header">
            <button type="button"
                    class="navbar-toggle collapsed"
                    data-toggle="collapse"
                    data-target="#bs-example-navbar-collapse-1"
                    aria-expanded="false">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a ng-click="model.goToHomepage()"
               class="navbar-brand navbar-top-margin">Speaking Tree</a>
        </div>

        <div class="collapse navbar-collapse " id="bs-example-navbar-collapse-1">

            <ul class="nav navbar-nav navbar-right">
                <li><a ng-if="model.userloginStatus == true"
                       class="navbar-top-padding-0"
                       ng-click="model.logout()"
                       >Log Out</a></li>
            </ul>

            <ul class="nav navbar-nav navbar-right">
                <li><a ng-if="model.userloginStatus == true"
                       ng-click="model.goToMyProfile()"
                       class="navbar-top-padding-0">My Profile</a></li>
            </ul>

            <ul class="nav navbar-nav navbar-right">
                <li><a ng-if="model.userloginStatus == true"
                       ng-click="model.goToProfileUpdatePage()"
                       class="navbar-top-padding-0">Edit Profile</a></li>
            </ul>

            <ul class="nav navbar-nav navbar-right">
                <li><a ng-if="model.userloginStatus == false"
                       class="navbar-top-padding-0"
                       href="#/login">Log In</a></li>
            </ul>

            <ul class="nav navbar-nav navbar-right">
                <li><a ng-if="model.userloginStatus == false"
                       class="navbar-top-padding-0"
                       href="#/register">Register</a></li>
            </ul>
        </div><!-- /.navbar-collapse -->
    </div><!-- /.container-fluid -->
</nav>

<!--<div class="container-fluid">
    <nav id="navbar-properties" class="navbar navbar-fixed-top">
        <div class="navbar-header">
            <button type="button"
                    class=" pt-navbar-toggle navbar-toggle collapsed"
                    data-toggle="collapse"
                    data-target="#bs-example-navbar-collapse-1"
                    aria-expanded="false">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar pt-icon-bar"></span>
                <span class="icon-bar pt-icon-bar"></span>
                <span class="icon-bar pt-icon-bar"></span>
            </button>
            <a class="navbar-brand"
               ng-click="model.goToHomepage()">Speaking Tree</a>
        </div>

        <div class="collapse navbar-collapse"
             id="bs-example-navbar-collapse-1">
            <ul class="nav navbar-nav navbar-right navbar-font-layout">
                <li><a ng-if="model.userloginStatus == true"
                       ng-click="model.goToMyProfile()">My Profile</a></li>
                <li><a ng-if="model.userloginStatus == true"
                       ng-click="model.goToProfileUpdatePage()">Edit Profile</a></li>
                <li><a ng-if="model.userloginStatus == true"
                       href="#/login">Log Out</a></li>
                <li><a ng-if="model.userloginStatus == false"
                       href="#/login">Login</a></li>
                <li><a ng-if="model.userloginStatus == false"
                       href="#/register">Register</a></li>
            </ul>
        </div>
    </nav>
</div>-->


<div class="container-fluid">

    <div class="col-lg-10 col-sm-12 col-xs-12 bookinfo-bookcontent">
        <div class="bookinfo-bookcontent-inner">
        <div class="row" id="bookinfo">
    <img class="img-responsive margin-bottom-1em bookinfo-img pull-left"
         src={{model.bookinfo.volumeInfo.imageLinks.thumbnail}} alt="CSS3">
            <table>
                <tr>
                    <h1 class="bookinfo-booktitle">{{model.bookinfo.volumeInfo.title}}</h1>
                </tr>
                <tr>
                <td>
                    <h3 class="margin-right-2em">Author of the book</h3>
                </td>
                <td>
                    <h3>{{model.bookinfo.volumeInfo.authors[0]}}</h3>
                </td>
                </tr>
                <tr>
                    <td>
                        <h4 class="margin-right-2em">Release date of the book</h4>
                    </td>
                    <td>
                        <h4>{{model.bookinfo.volumeInfo.publishedDate}}</h4>
                    </td>
                </tr>
                <tr>
                    <td>
                        <h4 class="margin-right-2em">ISBN Number</h4>
                    </td>
                    <td>
                        <h4 >{{model.bookisbn}}</h4>
                    </td>
                </tr>
                <tr>
                    <td>
                        <h4 class="margin-right-2em">Category</h4>
                    </td>
                    <td>
                        <h4>{{model.bookinfo.volumeInfo.categories[0]}}</h4>
                    </td>
                </tr>
                <tr>
                    <td>
                        <h4 class="margin-right-2em">Ratings of the book</h4>
                    </td>
                    <td>
                        <h4>{{model.bookrating}}</h4>
                    </td>
                </tr>
                <!--<tr>
                    <td>
                        <a class="btn btn-info  buttonconfilayput">Add to wishlist</a>
                    </td>
                    <td align="center">
                        <a class="btn btn-info  buynowbuttonlayout buttonconfilayput">Buy Now</a>
                    </td>
                </tr>-->
            </table>
        </div>

            <br/>

        <div class="row bookinfo-bookcontent-inner-row" id="bookinfo-bookcontent-inner-row-id">
            <a class="btn btn-block btn-success "
               id="add-article-button"
                ng-if="model.userRole == 'Author'"
                ng-click="model.goToWriteNewArticle()">
                Write an Article about {{model.bookinfo.volumeInfo.title}}</a>
            <h4>Plot of the book</h4>
            <p ng-bind-html="model.bookinfo.volumeInfo.description"></p>
        </div>
            <br/>
            <div class="row bookinfo-bookcontent-inner-row">
                <h4>Reviews</h4>
            </div>
            <div ng-show="model.noReviews" class="alert alert-danger text-center" role="alert">
                <i class="fa fa-exclamation-triangle" aria-hidden="true"></i> {{model.noReviews}}
            </div>
            <div class="bookinfo-bookcontent-inner-row row"
                 id="bookreview">
                <div class="row bookinfo-bookreview-inner-rowr"
                ng-repeat="bookreview in model.booksreviewslist">
                    <h3>{{bookreview.reviewsub}}</h3>
                    <h6><a ng-click="model.getReviewerInfo(bookreview.reviewername)"
                           data-toggle="modal"
                           data-target="#myModal">
                        By {{bookreview.reviewername}}</a></h6>
                    <i class="fa fa-quote-left" aria-hidden="true"></i>
                    <h4>{{bookreview.review}}</h4>
                    <i class="fa fa-quote-right" aria-hidden="true"></i>
                </div>
            </div>

            <br/>

            <div class="row bookinfo-bookcontent-inner-row"
                 ng-if=" model.bookarticlelist.length > '0'">
                <h4>Articles</h4>
            </div>
            <div class="bookinfo-bookcontent-inner-row row"
                 id="bookreview">
                <div class="row bookinfo-bookreview-inner-rowr"
                     ng-repeat="bookarticle in model.bookarticlelist">
                    <h3>{{bookarticle.articletitle}}</h3>
                    <h6><a ng-click="model.getBasicUserInfo(bookarticle.authorid)"
                            data-toggle="modal"
                           data-target="#myModal">
                        By {{bookarticle.authorusername}}</a></h6>

                    <div class="row text-center">
                    <div class="col-lg-6 col-xs-6 col-md-6 text-center">
                        <i class="fa fa-thumbs-up fa-2x" aria-hidden="true"></i>
                        <h5>{{bookarticle.userlikeids.length}}</h5>
                    </div>
                    <div class="col-lg-6 col-xs-6 col-md-6 text-center">
                        <i class="fa fa-thumbs-down fa-2x" aria-hidden="true"></i>
                        <h5>{{bookarticle.userdislikeids.length}}</h5>
                    </div>
                    </div>

                    <div class="container container-fluid">
                    <a class="btn btn-success btn-sm"
                       ng-if="model.userloginStatus == true"
                       data-toggle="modal"
                       id="read-article-btn"
                       data-target="#articleModal">Read Full Article</a>

                        <a class="btn btn-success btn-sm"
                           ng-if="model.userloginStatus == false"
                           id="read-article-btn"
                           disabled=""
                           data-target="#articleModal">Read Full Article</a>
                    </div>



                    <!-- Modal -->
                    <div class="modal fade" id="articleModal" role="dialog">
                        <div class="modal-dialog">

                            <!-- Modal content-->
                            <div class="modal-content">
                                <div class="modal-header margin-bottom-2em">
                                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                                    <h4 class="modal-title text-uppercase text-center">
                                        {{bookarticle.articletitle}}</h4>
                                </div>
                                <div class="modal-body">
                                    <div class="container-fluid">
                                        <p ng-bind-html="bookarticle.articlecontent"></p>
                                    </div>
                                    <div class="container-fluid">
                                    <h6>By</h6><h5 class="text-uppercase">{{bookarticle.authorusername}}</h5>
                                    </div>
                                </div>
                                <div class="modal-footer margin-top-modal-footer">
                                    <div class="col-xs-6">
                                    <a class="btn btn-block btn-success"
                                       ng-click="model.addLikeToArtilce(bookarticle)">
                                        LIKE
                                    </a>
                                    </div>
                                    <div class="col-xs-6">
                                        <a class="btn btn-block btn-danger"
                                           ng-click="model.addDisLikeToArtilce(bookarticle)">
                                            DISLIKE
                                        </a>
                                    </div>

                                    <!--<button type="button" class="btn btn-default" data-dismiss="modal">Close</button>-->
                                </div>
                            </div>

                        </div>
                    </div><!-- modal ends here -->

                </div>
            </div>


        <div class="row bookinfo-bookcontent-inner-row">
        </div>
        <div class="bookinfo-bookcontent-inner-row row"
             id="bookcontent-bookreview"
             ng-show="(model.userloginStatus == false)">
            <div class="row bookinfo-bookreview-inner-row">
            <h4 class="margin-bottom-1em">Add reviews for this book</h4>
                <input type="text"
                       class="form-control ng-valid ng-pristine ng-touched margin-bottom-1em"
                       placeholder="Please enter subject of the review"
                       disabled>
                <textarea
                       class="form-control ng-valid ng-pristine ng-touched bookinfo-boonreview"
                       rows="3"
                       placeholder="Please enter review of this book"
                       disabled>
                </textarea>
                <a class="btn btn-block btn-primary"
                   id="submit-review-button"
                   disabled="">
                    Submit</a>
            </div>
        </div>
            <div class="bookinfo-bookcontent-inner-row row"
                 id="bookcontent-bookreview"
                 ng-if="model.userloginStatus == true && (model.userRole == 'Reader')">
                <div class="row bookinfo-bookreview-inner-row">
                    <h4 class="margin-bottom-1em">Add reviews for this book</h4>
                    <input type="text"
                           class="form-control ng-valid ng-pristine ng-touched margin-bottom-1em"
                           placeholder="Please enter subject of the review"
                           ng-model="review.reviewsub">
                    <textarea
                            class="form-control ng-valid ng-pristine ng-touched bookinfo-boonreview"
                            rows="3"
                            placeholder="Please enter review of this book"
                            ng-model="review.review">
                </textarea>
                    <a class="btn btn-block btn-primary"
                       id="submit-review-button"
                        ng-click="model.submitReview(review)">Submit</a>
                </div>
            </div>
    </div>
    </div>



    <div class="col-lg-2 col-sm-12 col-xs-12 bookinfo-booksbyauthor centered-text">
        <div class="container-fluid bookinfo-bookbyauthorcontainer">
            <h4>Books by same author</h4>
            <div class="container-fluid bookinfo-bookbyauthor"
                 ng-repeat="bookinfo in model.booksBySameAuthor">
                <div class="container-fluid">
                <img class=" margin-bottom-1em  bookinfo-bookbyauthorimg"
                     src={{bookinfo.volumeInfo.imageLinks.smallThumbnail}} alt="CSS3">
                </div>
                <h6 class="bookinfo-bookname">Book Name </h6>
                <h5 class="bookinfo-bookname">{{bookinfo.volumeInfo.title}}</h5>
            </div>
        </div>
    </div>

    <!-- Modal -->
    <div class="modal fade" id="myModal" role="dialog">
        <div class="modal-dialog">

            <!-- Modal content-->
            <div class="modal-content">
                <div class="modal-header margin-bottom-2em">
                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                    <h4 class="modal-title text-uppercase text-center">
                        {{model.reviewerinfo.firstName}} {{model.reviewerinfo.lastName}}</h4>
                </div>
                <div class="modal-body">

                    <div class="col-xs-3 text-center">
                        <img class="img-responsive thumbnail"
                                ng-src="{{model.reviewerinfo.profileurl}}">
                    </div>

                    <div class="col-xs-3 text-center">
                        <span class="fa-stack fa-lg">
                            <i class="fa fa-circle-thin fa-stack-2x"></i>
                            <i class="fa fa-users fa-stack-1x"></i></span>
                            <p class="text-uppercase">followers</p>
                            <p>{{model.reviewerinfo.followers.length}}</p>
                    </div>

                    <div class="col-xs-3 text-center">
                        <span class="fa-stack fa-lg">
                            <i class="fa fa-circle-thin fa-stack-2x"></i>
                            <i class="fa fa-user-plus fa-stack-1x"></i></span>
                            <p class="text-uppercase">following</p>
                            <p>{{model.reviewerinfo.following.length}}</p>
                    </div>

                    <div class="col-xs-3 text-center">
                        <span class="fa-stack fa-lg">
                            <i class="fa fa-circle-thin fa-stack-2x"></i>
                            <i class="fa fa-pencil-square-o fa-stack-1x"></i></span>
                            <p class="text-uppercase">reviewed</p>
                            <p>{{model.reviewerinfo.books.length}}</p>
                    </div>

                </div>
                <div class="modal-footer margin-top-modal-footer margin-top-footer"
                     ng-if="model.userloginStatus == true">
                    <a class="btn btn-block btn-warning"
                    ng-click="model.followMeClicked(model.reviewerinfo)">
                        FOLLOW ME
                    </a>
                    <div ng-show="model.fstatus"
                         class="alert alert-danger margin-top-1em text-center">
                        {{model.fstatus}}
                    </div>
                    <!--<button type="button" class="btn btn-default" data-dismiss="modal">Close</button>-->
                </div>

            <div class="modal-footer margin-top-modal-footer"
                 ng-if="model.userloginStatus == false">
            <a class="btn btn-block btn-warning"
               disabled="">
                FOLLOW ME
            </a>
            <!--<button type="button" class="btn btn-default" data-dismiss="modal">Close</button>-->
        </div>
            </div>

        </div>
    </div><!-- modal ends here -->

</div>
</body>

